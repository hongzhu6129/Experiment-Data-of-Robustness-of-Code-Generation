


This revised code is more robust, thoroughly tested, and demonstrates good practices for handling floating-point numbers and invalid inputs.  Remember to run the tests using a testing framework like JUnit.
