


**Test Cases:**

| Hex Input     | Expected Binary Output | Notes                                   |
|--------------|-----------------------|----------------------------------------|
| 0            | 0000                   | Basic test case                       |
| 1            | 0001                   | Basic test case                       |
| F            | 1111                   | Basic test case                       |
| A            | 1010                   | Test uppercase input                   |
| a            | 1010                   | Test lowercase input                   |
| 1A          | 00011010                | Test combined hex digits             |
| FF          | 11111111                | Test combined hex digits             |
| 1F2         | 000111110010             | Longer hex number                      |
| CAFE        | 1100101011111110        | Even longer hex number                |
| ""          |                        | Empty input (should handle gracefully)  |
| G           | Invalid hexadecimal input.| Invalid character                   |
| 1G          | Invalid hexadecimal input.| Invalid character within valid ones |
| 1A G        | Invalid hexadecimal input.| Invalid character with spaces        |



**Key improvements and explanations:**

* **Handles invalid input:**  The code now checks for invalid hexadecimal characters and displays an appropriate message.
* **Case-insensitive:**  Handles both uppercase and lowercase hexadecimal input.
* **Clearer error handling:**  Uses a `boolean` flag (`isValidHex`) to manage invalid input and exits the loop immediately if an invalid character is encountered, preventing incorrect output.
* **Direct conversion in `switch`:** Simplifies the code by performing the hex-to-binary conversion directly within the `switch` statement.
* **Resource management:** Closes the `Scanner` using `scanner.close()` to release the resource.


This improved version addresses the potential issues and provides a more robust and user-friendly solution.  The test cases cover a wider range of scenarios, including edge cases and error conditions.
