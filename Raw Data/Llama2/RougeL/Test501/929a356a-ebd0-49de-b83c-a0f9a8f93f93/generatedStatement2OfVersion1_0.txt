


Improvements in this version:

* **Input Validation:**  It checks for invalid inputs like null or empty arrays, k <= 0, and k greater than the array length and prints an appropriate message. This makes the code more robust.
* **Clearer Output:**  The output now explicitly states "Kth smallest element" and "Kth largest element" along with the value of k, making it easier to understand the results.
* **Edge Case Handling:** Includes example usage with edge cases (k=1, k=array length, k > array length) demonstrating the input validation.


This improved version addresses potential issues and enhances clarity, making it a more complete and reliable solution.
