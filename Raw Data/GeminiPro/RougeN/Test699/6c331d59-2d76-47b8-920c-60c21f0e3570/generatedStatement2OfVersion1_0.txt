


Key improvements in this version:

* **Clarity and Comments:** Added more comments to explain the algorithm's steps.
* **Efficiency:** The outer loop now iterates up to the square root of `n` ( `p * p <= n`), which is a standard optimization for the Sieve of Eratosthenes.  This significantly reduces unnecessary calculations.
* **Correctness:** The inner loop starts marking composites from `p * p` because all smaller multiples of `p` would have already been marked by smaller primes.
* **Return an array:**  `generatePrimes` now returns an `int[]` containing the found primes, making it more reusable.
* **Clear output:** The `main` method now prints a descriptive message and formats the prime numbers neatly.
* **Example Usage:** The `main` method includes an example with `n = 30` to demonstrate how to use the `generatePrimes` function.
