


Explanation and Key Improvements:

1. **HashSet for Cycle Detection:** The `isHappy_number` method now uses a `HashSet` called `seen` to keep track of numbers encountered during the process.  This efficiently detects cycles (infinite loops) which are a characteristic of unhappy numbers.  If we re-encounter a number, we know we're in a cycle and the number is unhappy.

2. **Clearer Loop Condition:** The `while` loop condition is now `n != 1 && !seen.contains(n)`. This makes the logic more explicit: we continue the process as long as the number is not 1 AND we haven't seen this number before.

3. **Return Directly:** After the loop, we directly return `n == 1`. This simplifies the code and makes the result clear.

4. **Example Usage in `main`:** The `main` method demonstrates how to use the `isHappy_number` function and includes test cases with both happy and unhappy numbers (including those mentioned in the prompt).


How it Works (Happy Number Logic):

1. **Start:** Begin with the given number.
2. **Sum of Squares:** Calculate the sum of the squares of its digits.
3. **Repeat:** Replace the number with the calculated sum.
4. **Termination:** Repeat steps 2 and 3.  If the number becomes 1, it's a happy number. If we encounter a cycle (the same number appears again), it's an unhappy number.
