```java
public class HexToDecimal {

    public static void main(String[] args) {

        if (args.length != 1) {
            System.out.println("Usage: java HexToDecimal <hex_string>");
            return;
        }

        String hexString = args[0].toUpperCase(); // Handle both upper and lowercase

        long decimalValue = 0;
        long power = 1;

        try {
            for (int i = hexString.length() - 1; i >= 0; i--) {
                char hexChar = hexString.charAt(i);

                if (hexChar >= '0' && hexChar <= '9') {
                    decimalValue += (hexChar - '0') * power;
                } else if (hexChar >= 'A' && hexChar <= 'F') {
                    decimalValue += (hexChar - 'A' + 10) * power;
                } else {
                    System.out.println("Invalid hexadecimal character: " + hexChar);
                    return; // Exit on invalid input
                }
                power *= 16;
            }

            System.out.println(decimalValue); 

        } catch (NumberFormatException e) { // For extremely large hex strings that might cause overflow.
            System.out.println("Input is too large to represent as a long.");
        }

    }
}
```



**Test Cases:**

**Valid Inputs:**

1. **Simple Case:**  `java HexToDecimal F`  (Expected output: 15)
2. **Mixed Case:** `java HexToDecimal aB` (Expected output: 171)
3. **Zero:** `java HexToDecimal 0` (Expected output: 0)
4. **Larger Number:** `java HexToDecimal 1A2B3C` (Expected output: 1703676)
5. **Maximum long value represented in hex:** `java HexToDecimal 7FFFFFFFFFFFFFFF` (Expected output: 9223372036854775807)

**Corner/Invalid Inputs:**

1. **Empty Input:** `java HexToDecimal ""` (Expected output: Usage message)
2. **Invalid Characters:** `java HexToDecimal G` (Expected output: Invalid hexadecimal character: G)
3. **Invalid Characters (symbols):** `java HexToDecimal 12$AB` (Expected output: Invalid hexadecimal character: $)
4. **Leading/Trailing Spaces:** `java HexToDecimal   FFF   ` (This will treat it as a very large number because of the leading spaces. This case highlights the potential for errors when unexpected characters are included)
5. **Overflow:** `java HexToDecimal 8000000000000000` (Expected Output: Input is too large to represent as a long). This tests for hex values that exceed the maximum value of a `long` in Java. 
6. **No Argument:** `java HexToDecimal` (Expected output: Usage message)




**How to Run:**

1. Save the code as `HexToDecimal.java`.
2. Compile: `javac HexToDecimal.java`
3. Run with a hex string as a command-line argument:  e.g., `java HexToDecimal A1B2`


This improved version handles invalid input more gracefully, provides clearer error messages, and addresses the potential for overflow with large hexadecimal values.  It also uses `toUpperCase()` to handle both lowercase and uppercase hex input consistently. Remember to test with a variety of inputs, especially the corner cases, to ensure the program is robust.
