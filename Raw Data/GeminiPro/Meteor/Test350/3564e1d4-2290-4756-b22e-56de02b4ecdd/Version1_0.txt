```java
import java.util.HashSet;
import java.util.Set;

public class StringInterleavings {

    public static void allInterleavings(String str1, String str2, String current, Set<String> result) {
        if (str1.length() == 0 && str2.length() == 0) {
            result.add(current);
            return;
        }

        if (str1.length() > 0) {
            allInterleavings(str1.substring(1), str2, current + str1.charAt(0), result);
        }

        if (str2.length() > 0) {
            allInterleavings(str1, str2.substring(1), current + str2.charAt(0), result);
        }
    }

    public static void main(String[] args) {
        String str1 = "AB";
        String str2 = "CD";

        Set<String> interleavings = new HashSet<>();
        allInterleavings(str1, str2, "", interleavings);

        System.out.println("Interleavings of '" + str1 + "' and '" + str2 + "':");
        for (String s : interleavings) {
            System.out.println(s);
        }


        str1 = "AB";
        str2 = "C";
        interleavings.clear(); // Clear the set for the next example
         allInterleavings(str1, str2, "", interleavings);

        System.out.println("\nInterleavings of '" + str1 + "' and '" + str2 + "':");
        for (String s : interleavings) {
            System.out.println(s);
        }


         str1 = "A";
        str2 = "BC";
        interleavings.clear(); // Clear the set for the next example
         allInterleavings(str1, str2, "", interleavings);

        System.out.println("\nInterleavings of '" + str1 + "' and '" + str2 + "':");
        for (String s : interleavings) {
            System.out.println(s);
        }
    }
}
```


Key improvements and explanations:

1. **Use of a Set:** The `result` is now a `Set<String>` (specifically a `HashSet`).  This automatically handles duplicates, ensuring each interleaving is included only once, which is crucial for correctness.

2. **Base Case:**  The base case of the recursion is when both input strings (`str1` and `str2`) are empty. At this point, the `current` string represents a complete interleaving and is added to the `result` set.

3. **Recursive Calls:**  The code recursively calls `allInterleavings`:
   - If `str1` is not empty, it takes the first character of `str1`, appends it to `current`, and recurses with the remaining part of `str1`.
   - If `str2` is not empty, it does the same, but with the first character of `str2`.

4. **Clear Explanation in `main`:** The `main` method now provides clearer examples and prints the results in a user-friendly format. The `interleavings` set is cleared between examples to avoid mixing results.

5. **Handles Different String Lengths:** The code correctly handles cases where the input strings have different lengths.



Example Output (for "AB" and "CD"):

```
Interleavings of 'AB' and 'CD':
ACBD
ABCD
CABD
CADB
ACDB
CDAB
CDBA
BACD
BADC
BCAD
BCDA
BDAC
BDCA
```
