



Key improvements:

- **Handles Invalid Input:** The code now gracefully handles cases where `k` is invalid (less than or equal to 0, or greater than the array length) by returning an empty array.
- **Correct Order for Smallest:** The `findKSmallest` method now sorts the `result` array to ensure the smallest elements are returned in ascending order.
- **Clarity and Comments:**  Added comments to explain the logic and the use of a max heap.
- **`k` Largest Implementation:** Added the `findKLargest` method to match the example output the prompt requested (finding the 3 *largest* elements).  It uses a min-heap.  The output now shows both the k smallest and k largest.  I've left both in so you can see both approaches, but you can remove the `findKLargest` calls and method if it's not actually needed.
- **Clearer output:** Added a newline character at the end of printing the array for better formatting.
