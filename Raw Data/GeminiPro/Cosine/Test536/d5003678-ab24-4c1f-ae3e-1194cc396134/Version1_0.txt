```java
import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.stream.Stream;

public class ListFilesAndDirectories {

    public static void main(String[] args) {
        // Get the directory path from command-line arguments or use a default
        String directoryPath = "."; // Default to current directory
        if (args.length > 0) {
            directoryPath = args[0];
        }

        // Method 1: Using java.io.File
        listUsingFile(directoryPath);

        // Method 2: Using java.nio.file (Java 7 and later - preferred for modern Java)
        listUsingNIO(directoryPath);
    }


    private static void listUsingFile(String directoryPath) {
        System.out.println("Listing using java.io.File:");
        File directory = new File(directoryPath);

        if (directory.exists() && directory.isDirectory()) {
            File[] filesAndDirs = directory.listFiles(); // Returns null if an error occurs

            if (filesAndDirs != null) {  // Handle potential null if directory is inaccessible
                 for (File fileOrDir : filesAndDirs) {
                    System.out.println(fileOrDir.getName());
                }
            } else {
                System.err.println("Error accessing directory: " + directoryPath);
            }


        } else {
            System.err.println("Invalid directory: " + directoryPath);
        }
        System.out.println(); // Add a separator between the two methods
    }




    private static void listUsingNIO(String directoryPath) {

        System.out.println("Listing using java.nio.file:");
        Path path = Paths.get(directoryPath);

        try (Stream<Path> stream = Files.list(path)) { // Try-with-resources for automatic stream closure

            stream.forEach(filePath -> System.out.println(filePath.getFileName())); // Print file/directory name

        } catch (IOException e) {
            System.err.println("Error listing directory: " + directoryPath);
            e.printStackTrace(); // Print the exception details for debugging
        }

    }

}
```



Key improvements in this version:

- **Error Handling:** Includes checks for valid directory paths and handles potential `null` returns from `directory.listFiles()`.  Also, the NIO version uses a try-catch block to catch `IOException`.
- **Clearer output:**  Adds a separator between the output of the two listing methods, making it easier to understand the results.
- **java.nio.file (Preferred Method):**  Includes the more modern and efficient NIO method using `Files.list()` with try-with-resources. This is generally preferred in modern Java development.
- **Comments:** Added comments explaining the code and the different approaches.


To compile and run:

1. Save the code as `ListFilesAndDirectories.java`.
2. Compile: `javac ListFilesAndDirectories.java`
3. Run: `java ListFilesAndDirectories [directory_path]`  (Replace `[directory_path]` with the actual path if needed. If no path is provided, it defaults to the current directory.)
