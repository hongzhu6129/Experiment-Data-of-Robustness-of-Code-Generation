



The code handles various edge cases including an empty array and a null array.  The `main` method demonstrates usage with several examples and prints the updated array (up to the new length) using `Arrays.copyOfRange` to avoid displaying the elements beyond the returned length, which can be arbitrary.  It also now includes a test case for a single-element array.
