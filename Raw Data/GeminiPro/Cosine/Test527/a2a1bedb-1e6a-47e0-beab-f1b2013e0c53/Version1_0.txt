```java
public class Ramanujan {

    public static void main(String[] args) {
        int n = 1729; //  You can change this to search up to a different limit

        for (int a = 1; a <= n; a++) {
            int a3 = a * a * a;
            if (a3 > n) break; // Optimization:  If a^3 is already greater than n, no need to continue

            for (int b = a + 1; b <= n; b++) {  // Start b from a+1 to avoid duplicates
                int b3 = b * b * b;
                int sum = a3 + b3;
                if (sum > n) break; // Optimization: If a^3 + b^3 > n, no need to continue with this b

                // Now find another pair (c, d) such that c^3 + d^3 = sum
                for (int c = 1; c < b; c++) { // c must be less than b to avoid duplicates and ensure a different pair
                    int c3 = c * c * c;
                    int d3 = sum - c3;
                    int d = (int) Math.round(Math.pow(d3, 1.0 / 3.0)); // Calculate d as integer cube root

                    if (d > 0 && d * d * d == d3 && c != a && c != b && d != a && d != b ) {
                        //Check for perfect cube and ensure a different pair.
                        System.out.println(sum + " = " + a + "^3 + " + b + "^3 = " + c + "^3 + " + d + "^3");
                        return; // Stop after finding the first such number 
                    }

                }
            }
        }
    }
}
```


Key improvements and explanations in this version:

1. **Efficiency:**  Added optimization checks (`if (a3 > n) break;` and `if (sum > n) break;`) to avoid unnecessary calculations when the sum exceeds `n`.
2. **Duplicate Prevention:**  Starts `b` from `a + 1` and ensures `c` is less than `b` to prevent duplicate pairs (e.g., (1, 12) and (12, 1)).
3. **Correctness:** Uses `Math.round(Math.pow(d3, 1.0 / 3.0))` and then checks if `d * d * d == d3` to ensure we're dealing with perfect integer cubes for `d`, handling potential floating-point inaccuracies.
4. **Distinct Pair Check:**  Includes `c != a && c != b && d != a && d != b` to strictly enforce that (c,d) is a *different* pair than (a,b).  This avoids cases where c or d might coincidentally equal a or b, giving a false "Ramanujan number".
5. **Clear Output:** Prints the result in the specified format: `sum = a^3 + b^3 = c^3 + d^3`.
6. **Early Exit:** `return;` after finding the first Ramanujan number as requested.



This revised code correctly identifies 1729 as the first Ramanujan number and avoids reporting false positives. You can increase `n` to find larger Ramanujan numbers.
