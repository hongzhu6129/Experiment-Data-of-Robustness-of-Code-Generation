```java
import java.util.Arrays;

class Solution {
    /**
     * Removes duplicates from a sorted array in-place and returns the new length.
     *
     * @param nums The sorted array
     * @return The length of the array after removing duplicates
     */
    static int removeDuplicates(int[] nums) {
        if (nums == null || nums.length == 0) {
            return 0;
        }

        int uniqueIndex = 0;
        for (int i = 1; i < nums.length; i++) {
            if (nums[i] != nums[uniqueIndex]) {
                uniqueIndex++;
                nums[uniqueIndex] = nums[i];
            }
        }

        return uniqueIndex + 1;
    }

    public static void main(String[] args) {
        int[] nums1 = {1, 1, 2};
        int len1 = removeDuplicates(nums1);
        System.out.println("New length: " + len1 + ", Array: " + Arrays.toString(Arrays.copyOfRange(nums1, 0, len1)));  // Output: New length: 2, Array: [1, 2]

        int[] nums2 = {0, 0, 1, 1, 1, 2, 2, 3, 3, 4};
        int len2 = removeDuplicates(nums2);
        System.out.println("New length: " + len2 + ", Array: " + Arrays.toString(Arrays.copyOfRange(nums2, 0, len2))); // Output: New length: 5, Array: [0, 1, 2, 3, 4]

        int[] nums3 = {};
        int len3 = removeDuplicates(nums3);
        System.out.println("New length: " + len3 + ", Array: " + Arrays.toString(Arrays.copyOfRange(nums3, 0, len3))); // Output: New length: 0, Array: []

        int[] nums4 = null;
        int len4 = removeDuplicates(nums4);
        System.out.println("New length: " + len4 ); // Output: New length: 0

        int[] nums5 = {1,2,3,4,5};
        int len5 = removeDuplicates(nums5);
        System.out.println("New length: " + len5 + ", Array: " + Arrays.toString(Arrays.copyOfRange(nums5, 0, len5))); // Output: New length: 5, Array: [1, 2, 3, 4, 5]

    }
}
```


Key improvements in this version:

* **Handles edge cases:**  The code now correctly handles empty arrays and null inputs.
* **Clearer variable names:** `uniqueIndex` makes the code's purpose more obvious.
* **In-place modification:** The array is modified directly, as requested.
* **Comprehensive `main` method:** Includes multiple test cases to demonstrate the function's behavior in different scenarios (empty array, null array, array with duplicates, array without duplicates).
* **Uses `Arrays.copyOfRange`:**  Ensures we only print the relevant portion of the modified array after duplicates are removed. This prevents displaying the "garbage" values that might remain beyond the new length.



This revised answer directly addresses the prompt's requirements and demonstrates best practices for clarity, robustness, and completeness.
