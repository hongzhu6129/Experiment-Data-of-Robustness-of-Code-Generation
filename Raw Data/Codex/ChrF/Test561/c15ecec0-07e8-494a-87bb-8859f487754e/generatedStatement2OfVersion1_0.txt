


Key improvements and explanations of the test cases:

1. **Output Capture:** The `ByteArrayOutputStream` and `PrintStream` redirect and capture the console output, allowing you to assert against it. This is crucial for testing console-based programs.

2. **Basic Assertions:** Checks for non-empty output and the presence of the expected header.

3. **Corner Case 1 (UTF-8):** Checks for the presence of "UTF-8", a fundamental and almost universally supported charset. This helps verify that the program is correctly listing at least one common charset.  This test *could* theoretically fail on some extremely unusual Java implementations that might not support UTF-8.

4. **Corner Case 2 (Charset Count):**  Counts the number of lines printed (excluding the header) and verifies that it matches the size of the `Charset.availableCharsets()` map. This ensures that the program lists *all* available charsets and doesn't miss any or print duplicates.

5. **`testNonExistentCharset()` (Demonstration):** Shows how to test for an invalid or non-existent charset using `Charset.forName()`. This throws an exception if the charset isn't found. I've included the `assertNull` assert just to show a potential form, but the important takeaway is the expectation of the `IllegalArgumentException` if the charset is truly not available.




To run the tests, you'll need a testing framework like JUnit 5 (Jupiter).  Make sure you have the JUnit dependency in your project. You can run the tests from your IDE or using a build tool like Maven or Gradle.
