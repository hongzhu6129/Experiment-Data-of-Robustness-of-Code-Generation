


Key improvements in this version:

* **Clarity and Comments:** Added more comments to explain the steps of the Sieve algorithm.
* **Efficiency:** Optimized the loop conditions for marking non-primes.  The outer loop now runs up to `p * p <= n` because if a number `n` is not prime, it must have a divisor less than or equal to its square root.
* **Return an Array:** The `generatePrimes` method now returns an `int[]` containing only the prime numbers found.  This is more efficient than just printing within the method because it allows you to use the primes further in your `main` method if needed.
* **Example Usage in `main`:**  Demonstrates how to call `generatePrimes` and print the results.


This revised code effectively implements the Sieve of Eratosthenes and provides a more efficient and usable way to generate prime numbers in Java.
