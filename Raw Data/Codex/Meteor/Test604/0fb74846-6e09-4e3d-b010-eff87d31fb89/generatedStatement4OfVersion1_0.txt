

**Key Improvements:**

- **Clarity and Readability:**  The code is now much more readable with better function names and comments.
- **Efficiency:** The `isPrime()` function is optimized with a standard primality test.
- **Correctness:**  The logic is corrected to accurately represent the problem requirements.
- **Formatting:**  The output is formatted correctly with spaces between elements and newlines after each row.






