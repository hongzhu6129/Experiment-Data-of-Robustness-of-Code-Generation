


Key improvements in this version:

* **Handles edge cases:**  Correctly handles `null`, empty strings, and whitespace-only strings.
* **Clearer regular expression:** The `\b` (word boundary) ensures that only whole words ending in 'm' or 'n' are counted, preventing partial matches within larger words.
* **Case-insensitivity:**  The character class `[mnMN]` directly handles both uppercase and lowercase 'm' and 'n'.
* **More comprehensive testing:**  The `main` method includes tests with various inputs, including edge cases and single-letter words, demonstrating the robustness of the solution.
