    public static SortedMap<Integer, String> getPortion(TreeMap<Integer, String> map, int givenKey, boolean inclusive) {
        if (map == null) {
            // Handle the null map case appropriately (e.g., return an empty map, throw an exception)
            return new TreeMap<>(); // Or throw a NullPointerException
        }
        // ... (rest of the code as before)
    }
