


Key Improvements:

* **Clarity and Comments:**  Added more comments explaining the algorithm's logic.
* **Efficiency:** The outer loop only iterates up to the square root of `n` ( `p * p <= n`), which is a standard optimization for the Sieve of Eratosthenes.
* **Return an Array:** The `generatePrimes` function now returns an integer array containing the prime numbers found.  This makes it more reusable.
* **Example Usage in `main`:** The `main` method demonstrates how to use the `generatePrimes` function and prints the results nicely.  I've also included a second example to show how it can be used with a different input.
* **Clear Output:** Added a newline at the end of the output for better formatting.
