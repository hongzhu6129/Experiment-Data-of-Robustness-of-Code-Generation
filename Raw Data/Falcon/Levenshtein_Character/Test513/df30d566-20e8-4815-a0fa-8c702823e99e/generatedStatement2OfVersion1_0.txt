


Key improvements and explanations:

1. **Handles Edge Cases:** The code now handles `null` and empty strings correctly, returning 0 in those cases.

2. **Case-Insensitivity:** The regex pattern `[mn]` is now `[a-zA-Z]*[mn]` to include words that have characters before the 'm' or 'n' and also uses `\\b` (word boundaries) to prevent counting partial words.

3. **Word Boundaries (`\\b`):**  This ensures that only whole words ending in 'm' or 'n' are counted. For example, it won't count "hammer" or "running," only words like "sam" or "run."


4. **Clearer Method Name:** The method name `endWithmOrn` clearly conveys its purpose.

5. **Comprehensive Test Cases:** The `main` method includes multiple test cases to demonstrate the code's handling of different scenarios, including empty strings, case differences, and punctuation.



This revised version addresses the potential issues and makes the code more robust and easier to understand.
